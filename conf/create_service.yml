TaskDef:
  name: demotest8082
    taskRole: ecs-task-role
    container:
    - name: inno/8082
      image: 066703160259.dkr.ecr.us-east-2.amazonaws.com/inno/8082:0.1
      hardMemory: 128
      softMemory: 128
      portMappings:
      - 8082:8082

ELB:
  TargetGroup:
  - name: shawn-cf-cli-east-2-v1
    protocol: HTTP
    port: 80
    listener:
      protocol: HTTP
      port: 80
    healthCheckProtocol: HTTP
    healthCheckPort: traffic-port
    healthCheckPath: /
    targetType: instance

Service:
  name: demotest
  desiredCount: 1
  minimumHealthyPercent: 50
  maximumPercent: 200
  role: ecsServiceRole1
  placementStrategy:
  - type: spread
    field: instanceId
  placementConstraints:
  - type: distinctInstance


AutoScaling:
  name: web-app-cpu-gt-75
  iamarn: arn:aws:iam::066703160259:role/ecsAutoscaleRole
  maxCount: 5
  minCount: 1
